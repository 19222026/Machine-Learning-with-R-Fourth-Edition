##### Exploring and understanding data --------------------
## data exploration example using used car data
usedcars <- read.csv("usedcar.csv")
load("D:/2023/Title - Lantz/Code/Code/Chapter 2/B17290_02_2ndDraft_Code/usedcars.csv")
library(readxl)
usedcars <- read_excel("D:/2023/Title - Lantz/Code/Code/Chapter 2/B17290_02_2ndDraft_Code/usedcars.csv")
##### Exploring and understanding data --------------------
## data exploration example using used car data
usedcars <- read.csv("usedcar.csv")
usedcars <- read.csv("D:/2023/Title - Lantz/Code/Code/Chapter 2/B17290_02_2ndDraft_Code/usedcar.csv")
setwd('D:\2023\Title - Lantz\Code\Code\Chapter 2\B17290_02_2ndDraft_Code')
setwd("D:\2023\Title - Lantz\Code\Code\Chapter 2\B17290_02_2ndDraft_Code")
setwd("D:\\2023\\Title - Lantz\\Code\\Code\\Chapter 2\\B17290_02_2ndDraft_Code")
##### Exploring and understanding data --------------------
## data exploration example using used car data
usedcars <- read.csv("usedcar.csv")
## data exploration example using used car data
usedcars <- read.csv("usedcars.csv")
##### Exploring and understanding data --------------------
## data exploration example using used car data
usedcars <- read.csv("usedcars.csv")
# get structure of used car data
str(usedcars)
## Exploring numeric variables -----
# summarize numeric variables
summary(usedcars$year)
summary(usedcars[c("price", "mileage")])
# calculate the mean income
(36000 + 44000 + 56000) / 3
mean(c(36000, 44000, 56000))
# the median income
median(c(36000, 44000, 56000))
# the min/max of used car prices
range(usedcars$price)
# the difference of the range
diff(range(usedcars$price))
# IQR for used car prices
IQR(usedcars$price)
# use quantile to calculate five-number summary
quantile(usedcars$price)
# the 99th percentile
quantile(usedcars$price, probs = c(0.01, 0.99))
# quintiles
quantile(usedcars$price, seq(from = 0, to = 1, by = 0.20))
# boxplot of used car prices and mileage
boxplot(usedcars$price, main = "Boxplot of Used Car Prices",
ylab = "Price ($)")
boxplot(usedcars$mileage, main="Boxplot of Used Car Mileage",
ylab = "Odometer (mi.)")
# histograms of used car prices and mileage
hist(usedcars$price, main = "Histogram of Used Car Prices",
xlab = "Price ($)")
hist(usedcars$mileage, main = "Histogram of Used Car Mileage",
xlab = "Odometer (mi.)")
# variance and standard deviation of the used car data
var(usedcars$price)
sd(usedcars$price)
var(usedcars$mileage)
sd(usedcars$mileage)
## Exploring numeric variables -----
# one-way tables for the used car data
table(usedcars$year)
table(usedcars$model)
table(usedcars$color)
# compute table proportions
model_table <- table(usedcars$model)
prop.table(model_table)
# round the data
color_table <- table(usedcars$color)
color_pct <- prop.table(color_table) * 100
round(color_pct, digits = 1)
## Exploring relationships between variables -----
# scatterplot of price vs. mileage
plot(x = usedcars$mileage, y = usedcars$price,
main = "Scatterplot of Price vs. Mileage",
xlab = "Used Car Odometer (mi.)",
ylab = "Used Car Price ($)")
# new variable indicating conservative colors
usedcars$conservative <-
usedcars$color %in% c("Black", "Gray", "Silver", "White")
# checking our variable
table(usedcars$conservative)
# crosstab of conservative by model
library(gmodels)
install.packages("gmodels")
# new variable indicating conservative colors
usedcars$conservative <-
usedcars$color %in% c("Black", "Gray", "Silver", "White")
# checking our variable
table(usedcars$conservative)
# crosstab of conservative by model
library(gmodels)
CrossTable(x = usedcars$model, y = usedcars$conservative)
# calculating the chi-square test by hand
# step 1: sum the cell contributions
0.009 + 0.004 + 0.086 + 0.044 + 0.007 + 0.004
# step 2: compute the chi-square probability
pchisq(0.154, df = 2, lower.tail = FALSE)
# optional: can also compute the chi-square test with the CrossTable
CrossTable(x = usedcars$model, y = usedcars$conservative, chisq = TRUE)
